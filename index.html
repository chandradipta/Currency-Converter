<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Currency Converter</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-image: url('https://static.vecteezy.com/system/resources/previews/011/635/815/non_2x/abstract-money-transfer-online-currency-on-background-modern-blue-concept-arrow-global-money-movement-currency-exchange-dollar-euro-yen-vector.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      padding: 40px;
      font-family: Arial, sans-serif;
    }

    .container-flex {
      display: flex;
      justify-content: center;
      gap: 40px;
      flex-wrap: wrap;
    }

    .column-flex {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .card-box {
      background: rgba(255, 255, 255, 0.85);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
      font-size: 0.9rem;
      backdrop-filter: blur(10px);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card-box:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
    }

    .converter-box {
      width: 280px;
    }

    .chart-box {
      width: 380px;
      height: 320px;
    }

    .exchange-box {
      width: 340px;
    }

    .card-box h4 {
      text-align: center;
      margin-bottom: 16px;
      font-weight: bold;
    }

    .form-control, .form-select {
      border-radius: 8px;
      font-size: 0.85rem;
    }

    .btn-primary {
      background-color: #2979ff;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 0.9rem;
    }

    .rate-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .rate-item img {
      width: 24px;
      margin-right: 10px;
    }

    .flag-label {
      display: flex;
      align-items: center;
    }

    #currencyChart {
      width: 100% !important;
      height: 200px !important;
    }

    @media (max-width: 768px) {
      .container-flex {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>

  <div class="container-flex">
    <div class="column-flex">
      <!-- Currency Converter -->
      <div class="card-box converter-box">
        <h4>Currency Converter</h4>
        <div class="mb-2">
          <label>Amount</label>
          <input type="number" id="amount" class="form-control" placeholder="Enter amount" />
        </div>
        <div class="mb-2">
          <label>From Currency</label>
          <select id="from" class="form-select"></select>
        </div>
        <div class="mb-2">
          <label>To Currency</label>
          <select id="to" class="form-select"></select>
        </div>
        <button id="convert" class="btn btn-primary w-100 mt-2">Convert</button>
        <h6 class="text-center mt-2">Result: <span id="result">--</span></h6>
      </div>

      <!-- Historical Graph -->
      <div class="card-box chart-box">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h4 class="mb-0">Historical Rates</h4>
          <select id="year" class="form-select form-select-sm w-auto">
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2025" selected>2025</option>
          </select>
        </div>
        <canvas id="currencyChart"></canvas>
      </div>
    </div>

    <!-- Exchange Rates -->
    <div class="card-box exchange-box">
      <h4>Exchange Rates</h4>
      <div id="rateList"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const rates = {
      USD: 1,
      EUR: 0.9,       // from graph average
      INR: 83.04,     // from graph average
      JPY: 137.61,    // from graph average
      GBP: 0.8,       // from graph average

      AUD: 1.43,
      BGN: 1.7416,
      BRL: 3.9541,
      CAD: 1.3475,
      CHF: 1.0132,
      CNY: 6.8235,
      CZK: 22.9134,
      DKK: 6.6481,
      HKD: 7.8482,
      HRK: 6.5975,
      HUF: 288.0855,
      IDR: 14405.5031,
      ILS: 3.5622,
      ISK: 121.9947,
      KRW: 1180.1603,
      MXN: 19.1976,
      MYR: 4.1657,
      NOK: 8.7438,
      NZD: 1.516,
      PHP: 52.2903,
      PLN: 3.8255
    };

    const flags = {
      USD: 'us', AUD: 'au', BGN: 'bg', BRL: 'br', CAD: 'ca', CHF: 'ch',
      CNY: 'cn', CZK: 'cz', DKK: 'dk', EUR: 'eu', GBP: 'gb', HKD: 'hk',
      HRK: 'hr', HUF: 'hu', IDR: 'id', ILS: 'il', INR: 'in', ISK: 'is',
      JPY: 'jp', KRW: 'kr', MXN: 'mx', MYR: 'my', NOK: 'no', NZD: 'nz',
      PHP: 'ph', PLN: 'pl'
    };

    const historicalRates = {
      2023: {
        USD_EUR: [0.85, 0.86, 0.84, 0.87, 0.88, 0.86, 0.89],
    	USD_INR: [79.5, 80, 80.3, 80.7, 81, 80.9, 81.2],
    	USD_JPY: [135, 134.5, 134, 133, 132.5, 133.2, 134.1],
    	USD_GBP: [0.74, 0.75, 0.73, 0.76, 0.77, 0.76, 0.78],
    	USD_CAD: [1.30, 1.31, 1.29, 1.32, 1.31, 1.30, 1.33],
    	USD_AUD: [1.37, 1.38, 1.36, 1.39, 1.40, 1.38, 1.39],
    	USD_CHF: [0.98, 0.97, 0.99, 1.00, 0.98, 0.99, 1.00],
    	USD_CNY: [6.70, 6.72, 6.71, 6.73, 6.69, 6.75, 6.74],
    	USD_BRL: [3.85, 3.86, 3.83, 3.87, 3.88, 3.89, 3.87],
    	USD_NZD: [1.45, 1.46, 1.44, 1.47, 1.48, 1.46, 1.47],
    	USD_PLN: [3.72, 3.73, 3.71, 3.74, 3.75, 3.76, 3.77],
    	USD_MYR: [4.00, 4.01, 3.99, 4.02, 4.03, 4.04, 4.05],
    	USD_PHP: [50.9, 51.0, 50.8, 51.2, 51.3, 51.4, 51.5],
    	USD_KRW: [1160, 1162, 1165, 1168, 1170, 1171, 1165],
    	USD_IDR: [14200, 14230, 14210, 14250, 14260, 14280, 14240],
    	USD_HKD: [7.75, 7.76, 7.74, 7.77, 7.78, 7.76, 7.77],
    	USD_SEK: [9.8, 9.9, 9.7, 10.0, 9.9, 10.1, 10.2],
    	USD_DKK: [6.50, 6.51, 6.49, 6.52, 6.53, 6.54, 6.55],
    	USD_CZK: [22.2, 22.3, 22.1, 22.0, 21.9, 21.8, 22.2],
    	USD_HUF: [280, 281, 279, 278, 277, 276, 280],
    	USD_ISK: [118.5, 118.3, 118.1, 118.0, 117.8, 117.6, 118.0],
    	USD_ILS: [3.42, 3.43, 3.41, 3.44, 3.45, 3.46, 3.47],
    	USD_BGN: [1.66, 1.67, 1.65, 1.68, 1.69, 1.70, 1.71],
    	USD_HRK: [6.50, 6.49, 6.51, 6.52, 6.53, 6.54, 6.55],
    	USD_MXN: [18.5, 18.6, 18.4, 18.7, 18.8, 18.9, 18.6],
    	USD_NOK: [8.45, 8.47, 8.43, 8.48, 8.50, 8.51, 8.52]
      },
      2024: {
        USD_EUR: [0.87, 0.86, 0.85, 0.88, 0.89, 0.87, 0.90],
    	USD_INR: [81.2, 81.5, 81.7, 82.1, 82.4, 82.3, 82.7],
    	USD_JPY: [138, 137.5, 137, 136, 135.5, 136.2, 137.1],
    	USD_GBP: [0.76, 0.77, 0.75, 0.78, 0.79, 0.78, 0.80],
    	USD_CAD: [1.32, 1.33, 1.31, 1.34, 1.33, 1.32, 1.35],
    	USD_AUD: [1.40, 1.41, 1.39, 1.42, 1.43, 1.41, 1.42],
    	USD_CHF: [1.00, 0.99, 1.01, 1.02, 1.00, 1.00, 1.01],
    	USD_CNY: [6.78, 6.80, 6.79, 6.81, 6.77, 6.83, 6.82],
    	USD_BRL: [3.90, 3.91, 3.88, 3.92, 3.93, 3.94, 3.92],
    	USD_NZD: [1.48, 1.49, 1.47, 1.50, 1.51, 1.49, 1.50],
    	USD_PLN: [3.78, 3.79, 3.77, 3.80, 3.81, 3.82, 3.83],
    	USD_MYR: [4.10, 4.11, 4.09, 4.12, 4.13, 4.14, 4.15],
    	USD_PHP: [51.7, 51.8, 51.6, 52.0, 52.1, 52.2, 52.3],
    	USD_KRW: [1172, 1170, 1174, 1175, 1176, 1178, 1173],
    	USD_IDR: [14300, 14320, 14310, 14350, 14360, 14380, 14340],
    	USD_HKD: [7.80, 7.81, 7.79, 7.82, 7.83, 7.81, 7.82],
    	USD_SEK: [10.0, 10.1, 9.9, 10.2, 10.1, 10.3, 10.4],
    	USD_DKK: [6.58, 6.59, 6.57, 6.60, 6.61, 6.62, 6.63],
    	USD_CZK: [22.6, 22.7, 22.5, 22.4, 22.3, 22.2, 22.6],
    	USD_HUF: [284, 285, 283, 282, 281, 280, 284],
    	USD_ISK: [120, 119.8, 119.5, 119.3, 119.1, 118.9, 119.5],
    	USD_ILS: [3.50, 3.51, 3.49, 3.52, 3.53, 3.54, 3.55],
    	USD_BGN: [1.70, 1.71, 1.69, 1.72, 1.73, 1.74, 1.75],
    	USD_HRK: [6.55, 6.54, 6.56, 6.57, 6.58, 6.59, 6.60],
    	USD_MXN: [18.9, 19.0, 18.8, 19.1, 19.2, 19.3, 19.0],
    	USD_NOK: [8.60, 8.62, 8.58, 8.63, 8.65, 8.66, 8.67]
      },
      2025: {
        USD_EUR: [0.89, 0.88, 0.87, 0.91, 0.92, 0.90, 0.93],
    	USD_INR: [82.5, 83, 82.3, 83.2, 84.1, 84.3, 83.9],
    	USD_JPY: [140, 139, 138.5, 137, 135.8, 136.1, 134.9],
    	USD_GBP: [0.78, 0.79, 0.77, 0.80, 0.81, 0.82, 0.83],
    	USD_CAD: [1.34, 1.35, 1.33, 1.36, 1.34, 1.35, 1.37],
    	USD_AUD: [1.42, 1.43, 1.41, 1.45, 1.44, 1.46, 1.43],
    	USD_CHF: [1.01, 1.00, 1.02, 1.03, 1.01, 1.00, 1.02],
    	USD_CNY: [6.82, 6.85, 6.83, 6.84, 6.81, 6.87, 6.86],
    	USD_BRL: [3.95, 3.94, 3.96, 3.97, 3.93, 3.98, 3.99],
    	USD_NZD: [1.51, 1.52, 1.50, 1.53, 1.54, 1.51, 1.52],
    	USD_PLN: [3.82, 3.83, 3.81, 3.85, 3.84, 3.86, 3.87],
    	USD_MYR: [4.16, 4.15, 4.14, 4.17, 4.18, 4.19, 4.20],
    	USD_PHP: [52.3, 52.4, 52.2, 52.5, 52.6, 52.7, 52.8],
    	USD_KRW: [1180, 1175, 1182, 1183, 1184, 1186, 1181],
    	USD_IDR: [14400, 14450, 14410, 14380, 14420, 14460, 14430],
    	USD_HKD: [7.84, 7.85, 7.83, 7.86, 7.87, 7.85, 7.86],
    	USD_SEK: [10.2, 10.3, 10.1, 10.4, 10.3, 10.5, 10.6],
    	USD_DKK: [6.64, 6.65, 6.63, 6.66, 6.67, 6.68, 6.69],
    	USD_CZK: [22.9, 23.0, 22.8, 22.7, 22.6, 22.5, 22.9],
    	USD_HUF: [288, 289, 287, 286, 285, 284, 288],
    	USD_ISK: [122, 121.5, 121.2, 121, 120.9, 120.8, 121.1],
    	USD_ILS: [3.56, 3.57, 3.55, 3.58, 3.59, 3.60, 3.61],
    	USD_BGN: [1.74, 1.75, 1.73, 1.76, 1.77, 1.78, 1.79],
    	USD_HRK: [6.59, 6.58, 6.60, 6.61, 6.62, 6.63, 6.64],
    	USD_MXN: [19.2, 19.3, 19.1, 19.4, 19.5, 19.6, 19.3],
    	USD_NO: [8.74, 8.75, 8.73, 8.76, 8.77, 8.78, 8.79]
      }
    };

    const labels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];

    const fromSelect = document.getElementById('from');
    const toSelect = document.getElementById('to');
    const rateList = document.getElementById('rateList');
    const yearSelect = document.getElementById('year');

    for (const currency in rates) {
      const optionFrom = document.createElement('option');
      optionFrom.value = currency;
      optionFrom.text = currency;
      fromSelect.appendChild(optionFrom);

      const optionTo = document.createElement('option');
      optionTo.value = currency;
      optionTo.text = currency;
      toSelect.appendChild(optionTo);
    }

    fromSelect.value = "USD";
    toSelect.value = "EUR";

    for (const currency in rates) {
      const item = document.createElement('div');
      item.className = 'rate-item';

      const flag = document.createElement('img');
      flag.src = `https://flagcdn.com/${flags[currency]}.svg`;

      const label = document.createElement('div');
      label.className = 'flag-label';
      label.appendChild(flag);
      label.appendChild(document.createTextNode(" " + currency + ":"));

      const value = document.createElement('span');
      value.textContent = rates[currency];

      item.appendChild(label);
      item.appendChild(value);

      rateList.appendChild(item);
    }

    document.getElementById('convert').addEventListener('click', () => {
      const amount = parseFloat(document.getElementById('amount').value);
      const from = fromSelect.value;
      const to = toSelect.value;

      if (isNaN(amount) || amount <= 0) {
        alert("Enter a valid amount.");
        return;
      }

      const usdAmount = amount / rates[from];
      const converted = usdAmount * rates[to];

      document.getElementById('result').textContent = converted.toFixed(2) + ' ' + to;
      updateChart(from, to, yearSelect.value);
    });

    yearSelect.addEventListener('change', () => {
      updateChart(fromSelect.value, toSelect.value, yearSelect.value);
    });

    const ctx = document.getElementById('currencyChart').getContext('2d');
    let chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: labels.map(month => `${month} 2025`),
        datasets: [{
          label: 'Currency Value',
          data: historicalRates[2025]["USD_EUR"],
          fill: true,
          tension: 0.4,
          backgroundColor: 'rgba(41,121,255,0.1)',
          borderColor: '#2979ff',
          borderWidth: 2,
          pointRadius: 4,
          pointHoverRadius: 6,
          pointBackgroundColor: '#2979ff'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          tooltip: {
            enabled: true,
            mode: 'index',
            intersect: false
          }
        },
        interaction: {
          mode: 'nearest',
          axis: 'x',
          intersect: false
        },
        scales: {
          y: { ticks: { font: { size: 10 } } },
          x: { ticks: { font: { size: 10 } } }
        }
      }
    });

    function updateChart(from, to, year) {
      const key = `${from}_${to}`;
      const reversedKey = `${to}_${from}`;
      const yearData = historicalRates[year];
      chart.data.labels = labels.map(month => `${month} ${year}`);

      if (yearData[key]) {
        chart.data.datasets[0].data = yearData[key];
        chart.data.datasets[0].label = `${from} to ${to} (${year})`;
      } else if (yearData[reversedKey]) {
        const inverted = yearData[reversedKey].map(v => 1 / v);
        chart.data.datasets[0].data = inverted;
        chart.data.datasets[0].label = `${from} to ${to} (${year})`;
      } else {
        chart.data.datasets[0].data = Array(labels.length).fill(null);
        chart.data.datasets[0].label = `${from} to ${to} (no data)`;
      }
      chart.update();
    }

    updateChart("USD", "EUR", "2025");
  </script>
</body>
</html>
